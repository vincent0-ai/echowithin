{% extends "base.html" %}

{% block title %} <title>Blog</title> {% endblock %}

{% block content %}

<div class="blog-container">
    <header class="blog-header">
        <h1>Share Your Thoughts</h1>
        <p>A place for our community to connect and share.</p>
    </header>

    <div class="create-post-section">
        <h2>Create a New Post</h2>
        <form action="{{url_for('post')}}" method="POST" class="post-form">
            <input type="text" name="title" placeholder="Post Title" class="form-input" required>
            <textarea name="content" placeholder="What's on your mind, {{ session.get('username', 'guest') }}?" rows="6" class="form-input" required></textarea>
            <button type="submit" class="form-button">Publish Post</button>
        </form>
    </div>

    <div class="posts-section">
        <h2>Recent Posts</h2>
        <div class="posts-list">
            {% for post in posts %}
            <div class="post-item">
                <h3>{{post.title}}</h3>
                <p>{{post.content}}</p>
                <div class="post-meta">Posted by <strong>{{post.author}}</strong> on {{post.timestamp}}</div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}