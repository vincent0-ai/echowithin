
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="{{ url_for('static', filename = "coffee-bean.png")}}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename = "style.css")}}">
    <script src="{{ url_for('static', filename = "script.js")}}" defer></script>
    {% block title %}<title>Login/Register</title>{% endblock %}
</head>

<body>
    <div class="navbar">
        <a href="{{ url_for('dashboard') }}" class="nav-brand">
            <img src="{{ url_for('static', filename='logo.jpg') }}" alt="EchoWithin Logo" class="nav-logo">
            EchoWithin
        </a>
        <button class="hamburger" id="hamburger" aria-label="Toggle navigation">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div class="nav-links" id="nav-links">
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('home') }}" class="{{ 'active' if active_page == 'home' }}">Home</a>
                <a href="{{ url_for('blog') }}" class="{{ 'active' if active_page == 'blog' }}">Blog</a>
                <a href="{{ url_for('logout') }}">Logout</a>
                <a href="{{ url_for('about') }}" class="{{ 'active' if active_page == 'login' }}">About</a>
            {% else %}
                <a href="{{ url_for('dashboard') }}" class="{{ 'active' if active_page == 'dashboard' }}">Home</a>
                <a href="{{ url_for('login') }}" class="{{ 'active' if active_page == 'login' }}">Login</a>
                <a href="{{ url_for('about') }}" class="{{ 'active' if active_page == 'login' }}">About</a>
            {% endif %}
        </div>
    </div>
    <div class="overlay" id="overlay"></div>
    
    <div class="container">
        <div class="flash-messages">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {%endif%}
    {% endwith%}
    </div>
        {%block content%} {%endblock%}
    </div>

    <footer class="footer">
        <p>&copy; 2025 EchoWithin. All rights reserved.</p>
    </footer>
</body>

<script>
    // Wait for the entire page to load before running the script
    window.addEventListener('load', () => {
        // Select all elements with the class 'alert' inside 'flash-messages'
        const flashMessages = document.querySelectorAll('.flash-messages .alert');

        // Set a timeout to make them disappear after 5 seconds
        setTimeout(() => {
            flashMessages.forEach(message => {
                // Add a smooth fade-out transition
                message.style.transition = 'opacity 0.5s ease-out';
                message.style.opacity = '0';
                // After the fade-out, remove the element from the page
                setTimeout(() => {
                    message.remove();
                }, 500); // This should match the transition duration
            });
        }, 5000); // 5000 milliseconds = 5 seconds
    });
</script>

</html>